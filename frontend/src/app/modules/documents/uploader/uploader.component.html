<mat-card>
  <mat-card-header>
    <mat-card-title>Upload Document</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div 
      class="upload-area"
      [class.dragging]="isDragging"
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave($event)"
      (drop)="onDrop($event)">
      
      <mat-icon class="upload-icon">cloud_upload</mat-icon>
      
      <p *ngIf="!selectedFile">
        Drag and drop a file here or
        <label class="file-label">
          browse
          <input 
            type="file" 
            (change)="onFileSelected($event)"
            accept=".pdf,.doc,.docx,.txt"
            hidden>
        </label>
      </p>

      <div *ngIf="selectedFile" class="selected-file">
        <mat-icon>description</mat-icon>
        <span>{{ selectedFile.name }}</span>
        <span class="file-size">({{ (selectedFile.size / 1024).toFixed(2) }} KB)</span>
        <button mat-icon-button (click)="clearFile()" [disabled]="isUploading">
          <mat-icon>close</mat-icon>
        </button>
      </div>
    </div>

    <div *ngIf="uploadError" class="error-message">
      <mat-icon>error</mat-icon>
      {{ uploadError }}
    </div>

    <div *ngIf="uploadSuccess" class="success-message">
      <mat-icon>check_circle</mat-icon>
      {{ uploadSuccess }}
    </div>

    <div class="upload-actions" *ngIf="selectedFile">
      <button 
        mat-raised-button 
        color="primary" 
        (click)="uploadFile()"
        [disabled]="isUploading">
        <mat-icon *ngIf="!isUploading">upload</mat-icon>
        <mat-spinner *ngIf="isUploading" diameter="20"></mat-spinner>
        {{ isUploading ? 'Uploading...' : 'Upload' }}
      </button>
    </div>

    <p class="upload-hint">
      Supported formats: PDF, DOC, DOCX, TXT (Max 10MB)
    </p>
  </mat-card-content>
</mat-card>
